"use strict";(self.webpackChunkdocs_site=self.webpackChunkdocs_site||[]).push([[6947],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>c});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),u=s(n),c=a,k=u["".concat(l,".").concat(c)]||u[c]||m[c]||i;return n?r.createElement(k,o(o({ref:t},p),{},{components:n})):r.createElement(k,o({ref:t},p))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=u;var d={};for(var l in t)hasOwnProperty.call(t,l)&&(d[l]=t[l]);d.originalType=e,d.mdxType="string"==typeof e?e:a,o[1]=d;for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4137:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>d,toc:()=>s});var r=n(7462),a=(n(7294),n(3905));const i={id:"re2-shopify-app",sidebar_position:2,title:"RE2 Shopify App"},o="Shopify Integration",d={unversionedId:"integrations/re2-shopify-app",id:"integrations/re2-shopify-app",title:"RE2 Shopify App",description:"This documentation is a work in progress.",source:"@site/docs/integrations/shopify.md",sourceDirName:"integrations",slug:"/integrations/re2-shopify-app",permalink:"/docs/integrations/re2-shopify-app",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"re2-shopify-app",sidebar_position:2,title:"RE2 Shopify App"},sidebar:"tutorialSidebar",previous:{title:"Integration Overview",permalink:"/docs/integrations/overview"},next:{title:"Mailchimp Integration",permalink:"/docs/integrations/mailchimp"}},l={},s=[{value:"Overview",id:"overview",level:2},{value:"Required Permissions",id:"required-permissions",level:2},{value:"Shopify Events in RE2",id:"shopify-events-in-re2",level:2},{value:"&quot;Order&quot; Event Types",id:"order-event-types",level:3},{value:"&quot;View&quot; Event Types",id:"view-event-types",level:3},{value:"Shopify Assets in RE2",id:"shopify-assets-in-re2",level:2},{value:"Shopify Action Recommendations",id:"shopify-action-recommendations",level:2}],p={toc:s};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"shopify-integration"},"Shopify Integration"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"This documentation is a work in progress.")),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"The RE2 Shopify App allows Shopify owners to use RE2 to generate recommended customer action segments for email marketing right from the Shopify merchant admin. The RE2 Shopify App uses order history events and key site visits to inform the recommendations which are optimized for driving customer engagement."),(0,a.kt)("h2",{id:"required-permissions"},"Required Permissions"),(0,a.kt)("p",null,"The RE2 Shopify app needs certain permissions to generate actions recommendations and build segments."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"RE2 does not read (or store) any Shopify or merchant customer data other than the data described below. No personal or contact information is used.")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Permission"),(0,a.kt)("th",{parentName:"tr",align:null},"Data Accessed"),(0,a.kt)("th",{parentName:"tr",align:null},"Purpose"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"read_products")),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null},'Products are a form of "assets" in RE2 events. Reading products allows RE2 to maintain assets references and asset labels used in the recommendation models.')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"read_orders")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"order.created_at"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"order.customer.id"),",  ",(0,a.kt)("inlineCode",{parentName:"td"},"order.line_items.product_id"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"order.customerJourneySummary.firstVisit.landingPage"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"order.customerJourneySummary.firstVisit.occurredAt"),",  ",(0,a.kt)("inlineCode",{parentName:"td"},"order.customerJourneySummary.lastVisit.landingPage"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"order.customerJourneySummary.lastVisit.occurredAt")),(0,a.kt)("td",{parentName:"tr",align:null},"Orders and csustomer visits and event types in RE2. Reading orders and customer visists allows RE2 to build event histories used in the recommendation models.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"read_customers")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"customer.customer_id")),(0,a.kt)("td",{parentName:"tr",align:null},"RE2 creates customer metafields with action recommendations and segment identifiers. (Reading customers is required before RE2 can update these fields.)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"write_customers")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"customer.metafields")),(0,a.kt)("td",{parentName:"tr",align:null},"RE2 creates customer metafields with action recommendations and segment identifiers. Custoer metafields are limited in scope to the app that creates them.")))),(0,a.kt)("h2",{id:"shopify-events-in-re2"},"Shopify Events in RE2"),(0,a.kt)("p",null,'The Shopify app reports two kinds of events: "orders" and "views"'),(0,a.kt)("h3",{id:"order-event-types"},'"Order" Event Types'),(0,a.kt)("p",null,"Order events are obtained from Shopify via the ",(0,a.kt)("inlineCode",{parentName:"p"},"orders = shopify.Order.find()"),' method.\nAt this time the Shopify order instance does not contain any values to be used as labels.\nThe "order" event mappings are below:'),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"RE2 Event Field"),(0,a.kt)("th",{parentName:"tr",align:null},"Shopify Order Field"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"user_id")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"order.customer_id"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"event_timestamp")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"order.created_at"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"event_type")),(0,a.kt)("td",{parentName:"tr",align:null},'"order"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"asset_id")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"order.product_id"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"labels")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[]"))))),(0,a.kt)("h3",{id:"view-event-types"},'"View" Event Types'),(0,a.kt)("p",null,"View events are obtained from ",(0,a.kt)("inlineCode",{parentName:"p"},"customerJourneySummary")," data contained in the ",(0,a.kt)("inlineCode",{parentName:"p"},"order"),' object.\nSpecifically, the first and last landing page visits are recorded as "view" events.\nThese two visits are referenced ',(0,a.kt)("inlineCode",{parentName:"p"},"customerVisit")," objecs from either the ",(0,a.kt)("inlineCode",{parentName:"p"},'customer_journey["firstVisit"]')," or\n",(0,a.kt)("inlineCode",{parentName:"p"},'customer_journey["lastVisit"]'),' values. The "view" event mappings are below:'),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"RE2 Event Field"),(0,a.kt)("th",{parentName:"tr",align:null},"Shopify Order Field"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"user_id")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"order.customer_id"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"event_timestamp")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},'customerVisit["occurredAt"]'))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"event_type")),(0,a.kt)("td",{parentName:"tr",align:null},'"visit"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"asset_id")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},'customerVisit["landingPage"]'))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"labels")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[]"))))),(0,a.kt)("h2",{id:"shopify-assets-in-re2"},"Shopify Assets in RE2"),(0,a.kt)("h2",{id:"shopify-action-recommendations"},"Shopify Action Recommendations"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"")),(0,a.kt)("p",null,'RE2 provides Shopify merchants with three forms of customer insights for customer segmentation and campaign targeting integrated directly into Shofify stores. The three type are: (1) "Order" actions, (2) "View" actions, and (3) "Label" preferences.  These preferences are stored in customor metafields....'))}m.isMDXComponent=!0}}]);